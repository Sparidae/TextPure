# 使用crawl4ai库来创建知识库基础文本

输入url或者sitemap文件->执行对应站点的知识库总结任务

[爬取sitemap网站](https://www.xml-sitemaps.com/)

---

批量任务抽取url
- sitemap.py

传输给大模型，长上下文处理策略
1. 清理多余链接 （LLM，正则表达式）
2. 分段大模型总结（LLM，关注主题）
3. 整体总结合并（LLM）

写入到markdown


提示词
- prompt/xxx.prompt or prompt.json

---

爬取内容
浓缩内容，处理格式

使用qwen2.5-14b-instruct

提示词方法：
```
请帮我将这段内容性的部分使用markdown总结下来，尽最大可能详细，保留所有细节，并且不加入任何编造的内容

但是不包括：
外部链接，参考资料
任何与主题：“”无关的资料
```

```
清理多余字符提示词
```
---

知识库提示词

```
角色设定：
你是一名信息结构化和知识库开发的专家，请始终保持专业态度。你的任务是将 markdown 数据整理为适合 LLM 驱动的 RAG 知识库的结构化、易读格式。注意你需要生成中文。

任务要求：

内容解析

识别 markdown 数据中的关键内容和主要结构。
结构化整理

以清晰的标题和分层逻辑组织信息，使其易于检索和理解。
保留所有可能对回答用户查询有价值的细节。
创建 FAQ（如适用）

根据内容提炼出常见问题，并提供清晰、直接的解答。
提升可读性

采用项目符号、编号列表、段落分隔等格式优化排版，使内容更直观。
优化输出

严格去除 AI 生成的附加说明，仅保留清理后的核心数据。
响应规则：

完整性：确保所有相关信息完整保留，避免丢失对搜索和理解有价值的内容。
精准性：FAQ 需要紧密围绕内容，确保清晰、简洁且符合用户需求。
结构优化：确保最终输出便于分块存储、向量化处理，并支持高效检索。
数据输入：
<markdown>{{ $json.result.markdown }}</markdown> 

```

